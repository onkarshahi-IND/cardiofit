{
  "clinical_validation_suite": {
    "version": "1.0.0",
    "description": "Golden fixtures for clinical validation of KB-5 Drug Interactions service",
    "dataset_version": "2025Q3.harmonized",
    "created": "2025-01-15T10:00:00Z",
    "clinical_reviewer": "Clinical Informatics Team",
    "test_cases": [
      {
        "test_name": "sildenafil_nitrates_contraindicated",
        "description": "Sildenafil + Nitrates = Contraindicated due to profound hypotension risk",
        "category": "contraindicated_interactions",
        "priority": "critical",
        "request": {
          "transaction_id": "test_001",
          "drug_codes": ["RxCUI:855332", "ATC:C01DA02"],
          "dataset_version": "2025Q3.harmonized",
          "include_alternatives": true,
          "include_monitoring": true
        },
        "expected_results": {
          "interaction_count": 1,
          "highest_severity": "contraindicated",
          "contraindicated_pairs": 1,
          "required_management": [
            "Do NOT coadminister",
            "24-48h separation required"
          ],
          "min_risk_score": 0.95,
          "max_risk_score": 1.0,
          "evidence_level": "A",
          "alternatives_provided": true,
          "monitoring_required": false
        },
        "clinical_rationale": "PDE5 inhibitors + nitrates cause life-threatening hypotension through synergistic vasodilation. This is a well-established contraindication with Level A evidence."
      },
      {
        "test_name": "warfarin_amiodarone_major",
        "description": "Warfarin + Amiodarone = Major interaction requiring dose adjustment",
        "category": "major_interactions",
        "priority": "high",
        "request": {
          "transaction_id": "test_002",
          "drug_codes": ["RxCUI:11289", "RxCUI:704"],
          "dataset_version": "2025Q3.harmonized",
          "include_monitoring": true
        },
        "expected_results": {
          "interaction_count": 1,
          "highest_severity": "major",
          "contraindicated_pairs": 0,
          "required_management": [
            "Reduce warfarin dose 25-50%",
            "Monitor INR q3-4 days then weekly"
          ],
          "min_risk_score": 0.7,
          "max_risk_score": 0.9,
          "evidence_level": "A",
          "monitoring_required": true,
          "monitoring_parameters": ["INR", "bleeding_signs"]
        },
        "clinical_rationale": "Amiodarone inhibits P-glycoprotein and reduces renal clearance of warfarin, leading to 2-3 fold increase in warfarin levels and bleeding risk."
      },
      {
        "test_name": "codeine_cyp2d6_ultrarapid_pgx",
        "description": "Codeine + CYP2D6 Ultrarapid = Pharmacogenomic contraindication",
        "category": "pharmacogenomic_interactions",
        "priority": "high",
        "request": {
          "transaction_id": "test_003",
          "drug_codes": ["RxCUI:2670"],
          "patient_context": {
            "pgx": {
              "CYP2D6": "ultrarapid"
            },
            "age_band": "adult"
          },
          "dataset_version": "2025Q3.harmonized",
          "include_alternatives": true
        },
        "expected_results": {
          "interaction_count": 1,
          "highest_severity": "major",
          "pgx_interactions": 1,
          "required_management": [
            "Avoid codeine",
            "Use non-CYP2D6 opioid"
          ],
          "min_risk_score": 0.8,
          "max_risk_score": 0.95,
          "evidence_level": "A",
          "pgx_applicable": true,
          "alternatives_provided": true,
          "alternative_drugs": ["morphine", "oxycodone"]
        },
        "clinical_rationale": "CYP2D6 ultrarapid metabolizers convert codeine to morphine too quickly, leading to toxic morphine levels. FDA black box warning applies."
      },
      {
        "test_name": "linezolid_ssri_serotonin_syndrome",
        "description": "Linezolid + SSRI = Contraindicated due to serotonin syndrome risk",
        "category": "contraindicated_interactions",
        "priority": "critical",
        "request": {
          "transaction_id": "test_004",
          "drug_codes": ["RxCUI:203496", "ATC:N06AB"],
          "dataset_version": "2025Q3.harmonized",
          "include_alternatives": true
        },
        "expected_results": {
          "interaction_count": 1,
          "highest_severity": "contraindicated",
          "contraindicated_pairs": 1,
          "required_management": [
            "Avoid combination",
            "Hold SSRI if linezolid essential",
            "Monitor for serotonin syndrome"
          ],
          "min_risk_score": 0.9,
          "max_risk_score": 1.0,
          "evidence_level": "A",
          "class_interactions": 1
        },
        "clinical_rationale": "Linezolid is a weak MAOI that can precipitate serotonin syndrome when combined with SSRIs. Life-threatening reaction possible."
      },
      {
        "test_name": "clarithromycin_simvastatin_myopathy",
        "description": "Clarithromycin + Simvastatin = Major interaction with myopathy risk",
        "category": "major_interactions",
        "priority": "high",
        "request": {
          "transaction_id": "test_005",
          "drug_codes": ["RxCUI:6915", "RxCUI:36567"],
          "dataset_version": "2025Q3.harmonized",
          "include_alternatives": true,
          "include_monitoring": true
        },
        "expected_results": {
          "interaction_count": 1,
          "highest_severity": "major",
          "required_management": [
            "Avoid combination",
            "Choose pravastatin/rosuvastatin",
            "Hold statin during clarithromycin course"
          ],
          "min_risk_score": 0.8,
          "max_risk_score": 0.95,
          "evidence_level": "A",
          "alternatives_provided": true,
          "alternative_drugs": ["pravastatin", "rosuvastatin"],
          "monitoring_parameters": ["CK", "muscle_symptoms"]
        },
        "clinical_rationale": "Clarithromycin is a strong CYP3A4 inhibitor that dramatically increases simvastatin levels, leading to high risk of rhabdomyolysis."
      },
      {
        "test_name": "triple_whammy_acute_kidney_injury",
        "description": "ACE inhibitor + Diuretic + NSAID = Triple whammy for AKI",
        "category": "class_interactions",
        "priority": "high",
        "request": {
          "transaction_id": "test_006",
          "drug_codes": ["ATC:C09AA", "ATC:C03", "ATC:M01AE"],
          "expand_classes": true,
          "dataset_version": "2025Q3.harmonized",
          "include_monitoring": true
        },
        "expected_results": {
          "interaction_count": 2,
          "highest_severity": "moderate",
          "class_interactions": 2,
          "required_management": [
            "Avoid triple combination",
            "Monitor renal function",
            "Use acetaminophen instead"
          ],
          "min_risk_score": 0.6,
          "max_risk_score": 0.8,
          "monitoring_required": true,
          "monitoring_parameters": ["serum_creatinine", "BUN", "eGFR"]
        },
        "clinical_rationale": "The combination of ACE inhibitors, diuretics, and NSAIDs creates the 'triple whammy' that significantly increases risk of acute kidney injury."
      },
      {
        "test_name": "maoi_tyramine_food_interaction",
        "description": "MAOI + Tyramine-rich foods = Hypertensive crisis risk",
        "category": "food_drug_interactions",
        "priority": "high",
        "request": {
          "transaction_id": "test_007",
          "drug_codes": ["RxCUI:5781"],
          "include_contextuals": true,
          "dataset_version": "2025Q3.harmonized"
        },
        "expected_results": {
          "interaction_count": 1,
          "highest_severity": "major",
          "modifier_interactions": 1,
          "required_management": [
            "Avoid tyramine-rich foods",
            "Patient education essential",
            "Dietary restrictions during MAOI therapy"
          ],
          "min_risk_score": 0.8,
          "max_risk_score": 0.9,
          "evidence_level": "A"
        },
        "clinical_rationale": "MAOIs prevent breakdown of tyramine from foods, leading to potentially fatal hypertensive crisis. Strict dietary restrictions required."
      },
      {
        "test_name": "multiple_drug_complex_interaction",
        "description": "Complex polypharmacy case with multiple interaction types",
        "category": "complex_polypharmacy",
        "priority": "high",
        "request": {
          "transaction_id": "test_008",
          "drug_codes": [
            "RxCUI:11289",
            "RxCUI:704", 
            "RxCUI:1154343",
            "RxCUI:36567",
            "ATC:N06AB"
          ],
          "patient_context": {
            "pgx": {
              "CYP2C19": "poor"
            },
            "hepatic_stage": "ChildPugh_A",
            "age_band": "older_adult"
          },
          "dataset_version": "2025Q3.harmonized",
          "include_alternatives": true,
          "include_monitoring": true
        },
        "expected_results": {
          "interaction_count": 4,
          "highest_severity": "major",
          "contraindicated_pairs": 0,
          "pgx_interactions": 1,
          "required_management": [
            "Adjust warfarin dose for amiodarone",
            "Consider prasugrel/ticagrelor for CYP2C19 poor metabolizer",
            "Monitor for bleeding with warfarin + SSRI",
            "Avoid simvastatin with multiple inhibitors"
          ],
          "min_risk_score": 0.7,
          "max_risk_score": 0.85,
          "monitoring_required": true,
          "alternatives_provided": true
        },
        "clinical_rationale": "Complex case demonstrating multiple interaction types: PK (warfarin-amiodarone), PGx (clopidogrel-CYP2C19), additive effects (warfarin-SSRI bleeding), and metabolic inhibition (simvastatin)."
      },
      {
        "test_name": "batch_processing_performance",
        "description": "Batch processing with multiple drug sets for performance validation",
        "category": "performance_validation",
        "priority": "medium",
        "batch_request": {
          "requests": [
            {
              "transaction_id": "batch_001",
              "drug_codes": ["RxCUI:855332", "ATC:C01DA02"]
            },
            {
              "transaction_id": "batch_002", 
              "drug_codes": ["RxCUI:11289", "RxCUI:704"]
            },
            {
              "transaction_id": "batch_003",
              "drug_codes": ["RxCUI:6915", "RxCUI:36567"]
            },
            {
              "transaction_id": "batch_004",
              "drug_codes": ["RxCUI:203496", "ATC:N06AB"]
            },
            {
              "transaction_id": "batch_005",
              "drug_codes": ["RxCUI:2670"],
              "patient_context": {
                "pgx": {"CYP2D6": "ultrarapid"}
              }
            }
          ],
          "options": {
            "parallel": true,
            "max_concurrency": 3
          }
        },
        "expected_results": {
          "total_requests": 5,
          "successful_requests": 5,
          "failed_requests": 0,
          "max_processing_time_ms": 200,
          "contraindicated_found": 2,
          "major_found": 3
        },
        "clinical_rationale": "Validates batch processing performance and parallel execution capabilities for high-throughput clinical environments."
      },
      {
        "test_name": "institutional_override_application",
        "description": "Test institutional override for linezolid + SSRI with ICU monitoring",
        "category": "institutional_overrides",
        "priority": "medium",
        "request": {
          "transaction_id": "test_009",
          "drug_codes": ["RxCUI:203496", "ATC:N06AB"],
          "clinical_context": {
            "setting": "ICU",
            "monitoring_available": "continuous"
          },
          "dataset_version": "2025Q3.harmonized"
        },
        "expected_results": {
          "interaction_count": 1,
          "highest_severity": "contraindicated",
          "override_applied": true,
          "modified_management": "CONTRAINDICATED unless no alternatives AND inpatient monitoring with ICU capability",
          "override_rationale": "Institutional safety policy allows with enhanced monitoring",
          "approver": "P&T-Committee-2025-08-31"
        },
        "clinical_rationale": "Demonstrates institutional override capability where P&T Committee allows normally contraindicated combinations under strict monitoring conditions."
      }
    ],
    "performance_benchmarks": {
      "single_interaction_lookup": {
        "target_p95_latency_ms": 80,
        "target_cache_hit_rate": 0.85,
        "target_accuracy": 1.0
      },
      "batch_processing": {
        "target_throughput_rps": 1000,
        "max_concurrent_requests": 50,
        "target_success_rate": 0.99
      },
      "matrix_loading": {
        "max_load_time_seconds": 30,
        "target_memory_usage_mb": 1000,
        "hot_cache_entries": 50000
      }
    },
    "clinical_safety_requirements": {
      "contraindicated_detection": {
        "false_negative_rate": 0.0,
        "false_positive_rate": 0.05,
        "evidence_level_minimum": "C"
      },
      "major_interaction_detection": {
        "sensitivity": 0.95,
        "specificity": 0.90,
        "confidence_threshold": 0.7
      },
      "pharmacogenomic_coverage": {
        "cyp2d6_variants": ["poor", "intermediate", "normal", "ultrarapid"],
        "cyp2c19_variants": ["poor", "intermediate", "normal", "ultrarapid"],
        "slco1b1_variants": ["poor", "normal"]
      }
    },
    "regulatory_compliance": {
      "fda_requirements": {
        "black_box_warnings": "enforced",
        "contraindications": "strictly_applied",
        "dose_adjustments": "evidence_based"
      },
      "clinical_guidelines": {
        "beers_criteria": "integrated",
        "stopp_start": "referenced",
        "cyp_interactions": "comprehensive"
      }
    },
    "validation_criteria": {
      "all_tests_must_pass": true,
      "performance_targets_met": true,
      "clinical_accuracy_verified": true,
      "regulatory_compliance_confirmed": true,
      "clinical_sign_off_required": true
    }
  }
}